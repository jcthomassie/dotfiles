#!/bin/bash
# Toggle wuake dropdown terminal
PIDFILE="${XDG_DATA_HOME:-$HOME/.local/share}/wezterm/wuake_pid"

if [[ -f "$PIDFILE" ]]; then
    pid=$(cat "$PIDFILE")
    if kill -0 "$pid" 2>/dev/null; then
        # Wuake is running, kill it
        kill "$pid"
        rm -f "$PIDFILE"
        exit 0
    fi
fi

# Wuake not running, start it
exec flatpak run org.wezfurlong.wezterm connect wuake
