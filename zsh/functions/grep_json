_local_grep="grep"
if command -v ggrep &> /dev/null; then
    _local_grep="ggrep"
fi

grep_json () {
    local key=${1:?missing key input}

    local raw=$("$_local_grep" -Po '(?<="'$key'":).*?[^\\](?=[,}$])' "${@:2}")
    # remove leading whitespace characters
    raw="${raw#"${raw%%[![:space:]]*}"}"
    # remove trailing whitespace characters
    raw="${raw%"${raw##*[![:space:]]}"}"
    echo $raw
}

grep_json "$@"
